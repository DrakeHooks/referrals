<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Drake Hooks • Referrals</title>
  <meta name="description" content="All my referral links in one place." />
  <meta name="theme-color" content="#000000" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />

  <style>
    /* ===== Base ===== */
    :root{
      --oled:#000;                 /* true black for OLED */
      --muted:#9ca3af;
      --ring:#60a5fa;

      /* Glass constants */
      --glass-bg: rgba(255,255,255,.045);   /* base translucency */
      --glass-brd: rgba(255,255,255,.18);   /* border */
      --glass-brd-strong: rgba(255,255,255,.28);
      --glass-shadow: 0 8px 24px rgba(0,0,0,.6), 0 2px 6px rgba(0,0,0,.35);
      --glass-shadow-hover: 0 16px 40px rgba(0,0,0,.75), 0 4px 10px rgba(0,0,0,.45);

      --glass-radius: 18px;
      --glass-radius-sm: 14px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:#000;             /* OLED black */
      color:#e5e7eb;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica Neue,Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .container{max-width:900px;margin:0 auto;padding:32px 16px 88px}
    h1{font-weight:800;letter-spacing:-.02em;font-size:clamp(28px,3.5vw,44px);margin:8px 0 6px}
    p.lead{margin:0 0 20px;color:var(--muted)}

    /* ===== Toolbar ===== */
    .toolbar{display:flex;gap:12px;flex-wrap:wrap;margin:18px 0 26px}
    .search{
      flex:1 1 320px;
      background:var(--glass-bg);
      border:1px solid var(--glass-brd);
      border-radius:var(--glass-radius-sm);
      color:#f3f4f6;
      padding:12px 14px;
      outline:none;
      box-shadow:inset 0 1px 3px rgba(255,255,255,.04);
      position:relative;
      transition:border-color .2s, box-shadow .2s, transform .2s;
    }
    .search:focus{
      border-color:var(--ring);
      box-shadow:0 0 0 3px #60a5fa33, inset 0 1px 3px rgba(255,255,255,.06);
      transform:translateY(-1px);
    }

    .btn{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 12px;
      border-radius:var(--glass-radius-sm);
      text-decoration:none; color:#f3f4f6;
      background:linear-gradient(to bottom, rgba(255,255,255,.12), rgba(255,255,255,.06));
      border:1px solid var(--glass-brd);
      box-shadow: var(--glass-shadow);
      position:relative; overflow:hidden;
      transition:transform .18s, box-shadow .25s, border-color .2s, background .2s;
    }
    .btn::before{
      /* diagonal sheen */
      content:""; position:absolute; inset:-1px;
      background:linear-gradient(120deg, rgba(255,255,255,.22), rgba(255,255,255,0) 35%);
      mix-blend-mode:screen; opacity:.35; pointer-events:none;
    }
    .btn:hover{
      transform:translateY(-1px);
      border-color:var(--glass-brd-strong);
      box-shadow: var(--glass-shadow-hover);
      background:linear-gradient(to bottom, rgba(255,255,255,.16), rgba(255,255,255,.08));
    }

    /* ===== List ===== */
    .list{display:flex;flex-direction:column;gap:14px}

    /* ===== Glass Card ===== */
    .item{
      position:relative; overflow:hidden;
      display:flex; flex-direction:column; gap:8px;
      padding:20px 18px;
      border-radius:var(--glass-radius);
      background:var(--glass-bg);
      border:1px solid var(--glass-brd);
      box-shadow: var(--glass-shadow);
      transition: transform .18s ease, box-shadow .25s ease, border-color .25s ease, background .25s ease;
    }

    /* Top glossy highlight & internal reflections */
    .item::before{
      content:""; position:absolute; inset:-1px;
      background:
        /* top-left glossy arc */
        radial-gradient(140% 70% at -10% -20%, rgba(255,255,255,.35), rgba(255,255,255,0) 40%),
        /* faint bottom reflection */
        linear-gradient(to top, rgba(255,255,255,.06), rgba(255,255,255,0) 55%);
      mix-blend-mode:screen; opacity:.55; pointer-events:none;
    }

    /* Accent glow using --accent (from links.json color) */
    .item::after{
      content:""; position:absolute; inset:-20%; filter:blur(30px);
      background: radial-gradient(50% 50% at 50% 0%, var(--accent, rgba(99,102,241,.35)) 0%, rgba(0,0,0,0) 60%);
      opacity:.25; pointer-events:none;
    }

    /* Fine glass grain */
    .grain{
      position:absolute; inset:0; pointer-events:none; opacity:.12; mix-blend-mode:screen;
      background-image: url('data:image/svg+xml;utf8,\
<svg xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 128 128">\
<filter id="n"><feTurbulence baseFrequency=".9" numOctaves="2" seed="3" type="fractalNoise"/><feColorMatrix type="saturate" values="0"/><feComponentTransfer><feFuncA type="table" tableValues="0 0 .08"/></feComponentTransfer></filter>\
<rect width="128" height="128" filter="url(%23n)"/></svg>');
      background-size: 220px 220px;
      border-radius: inherit;
    }

    .item:hover{
      transform: translateY(-2px);
      box-shadow: var(--glass-shadow-hover);
      border-color: var(--glass-brd-strong);
      background: rgba(255,255,255,.06);
    }

    .top{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .name{font-weight:700;font-size:18px}
    .desc{color:#d1d5db;font-size:14px}

    .open{
      display:inline-flex; align-items:center; gap:8px;
      margin-left:auto;
      padding:10px 12px;
      border-radius:var(--glass-radius-sm);
      color:#f3f4f6; text-decoration:none;
      background:linear-gradient(to bottom, rgba(255,255,255,.14), rgba(255,255,255,.07));
      border:1px solid var(--glass-brd);
      position:relative; overflow:hidden;
      transition:transform .18s, box-shadow .25s, border-color .2s, background .2s;
      box-shadow: var(--glass-shadow);
    }
    .open::before{
      content:""; position:absolute; inset:-1px;
      background:linear-gradient(140deg, rgba(255,255,255,.25), rgba(255,255,255,0) 42%);
      mix-blend-mode:screen; opacity:.45; pointer-events:none;
    }
    .open:hover{
      transform:translateY(-1px);
      border-color: var(--glass-brd-strong);
      background:linear-gradient(to bottom, rgba(255,255,255,.18), rgba(255,255,255,.1));
    }

    .ext{width:16px; height:16px}
    .muted{color:var(--muted); font-size:13px; margin:8px 0 0}
    footer{margin-top:36px; color:#9ca3af; font-size:13px; text-align:center}
    .pill{
      display:inline-block; font-size:12px; padding:3px 8px; border-radius:999px;
      border:1px solid var(--glass-brd);
      background: linear-gradient(to bottom, rgba(255,255,255,.12), rgba(255,255,255,.06));
      color:#d1d5db;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>✽ Referral Links</h1>
    <p class="lead">NOTE: The list below contains referral/affiliate links to casino sites and apps you may use. This is a free way to support development. Gamble responsibly.</p>

    <div class="toolbar">
      <input id="search" class="search" placeholder="Search sites… (e.g., poker, daily)">
      <a class="btn" href="https://github.com/sponsors/DrakeHooks" target="_blank" rel="noopener">Sponsor</a>
      <a class="btn" href="https://ko-fi.com/drakehooks" target="_blank" rel="noopener">Ko-fi</a>
    </div>

    <div id="list" class="list"></div>

    <footer>© <span id="year"></span> Drake Hooks • <span class="pill">casino-claim referrals</span></footer>
  </div>

  <!-- Card Template -->
  <template id="row">
    <div class="item">
      <span class="grain"></span>
      <div class="top">
        <div class="name"></div>
        <a class="open" target="_blank" rel="noopener">
          <svg class="ext" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path d="M14 3h7v7h-2V6.41l-9.29 9.3-1.42-1.42 9.3-9.29H14V3ZM5 5h6v2H7v10h10v-4h2v6H5V5Z"/>
          </svg>
          <span>Open</span>
        </a>
      </div>
      <div class="desc"></div>
    </div>
  </template>

  <script>
    const listEl = document.getElementById('list');
    const searchEl = document.getElementById('search');
    document.getElementById('year').textContent = new Date().getFullYear();

    const UTM = new URLSearchParams({
      utm_source:'referral-hub',
      utm_medium:'link-list',
      utm_campaign:'casino-claim'
    }).toString();

    let DATA = [];

    function decorate(url){
      try{
        const u = new URL(url);
        if(!u.searchParams.has('utm_source')){
          u.search += (u.search ? '&' : '') + UTM;
        }
        return u.toString();
      } catch { return url; }
    }

    async function load(){
      try{
        const res = await fetch('links.json', {cache:'no-store'});
        DATA = await res.json();
        render();
      }catch(e){
        listEl.innerHTML = '<div class="muted">Failed to load links.json</div>';
      }
    }

    function render(){
      const q = (searchEl.value || '').toLowerCase();
      const frag = document.createDocumentFragment();
      const row = document.getElementById('row');

      listEl.innerHTML = '';
      DATA
        .filter(x => (x.name + ' ' + (x.desc||'')).toLowerCase().includes(q))
        .forEach(item => {
          const node = row.content.cloneNode(true);
          const card = node.querySelector('.item');
          if (item.color) card.style.setProperty('--accent', item.color);

          node.querySelector('.name').textContent = item.name;
          node.querySelector('.desc').textContent = item.desc || '';

          const a = node.querySelector('a.open');
          a.href = decorate(item.url);
          a.title = 'Open ' + item.name + ' in new tab';

          frag.appendChild(node);
        });

      listEl.appendChild(frag);
      if (!listEl.children.length){
        listEl.innerHTML = '<div class="muted">No matches.</div>';
      }
    }

    searchEl.addEventListener('input', render);
    load();
  </script>
</body>
</html>
