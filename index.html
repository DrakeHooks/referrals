<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Drake Hooks • Referrals</title>
  <meta name="description" content="All my referral links in one place.">
  <meta name="theme-color" content="#0b0f19">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root { --bg:#0b0f19; --card:#141b2d; --muted:#94a3b8; --ring:#60a5fa; }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:radial-gradient(1200px 800px at 10% -10%, #1f1147 0%, transparent 60%),radial-gradient(1200px 800px at 90% -10%, #0b3b4a 0%, transparent 60%), var(--bg); color:#e2e8f0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";}
    .container{max-width:900px;margin:0 auto;padding:32px 16px 80px}
    h1{font-weight:800;letter-spacing:-.02em;font-size:clamp(28px,3.5vw,44px);margin:8px 0 6px}
    p.lead{margin:0 0 20px;color:var(--muted)}
    .toolbar{display:flex;gap:12px;flex-wrap:wrap;margin:18px 0 24px}
    .search{flex:1 1 320px;background:var(--card);border:1px solid #26324a;color:#cbd5e1;border-radius:14px;padding:12px 14px;outline:none}
    .search:focus{border-color:var(--ring);box-shadow:0 0 0 3px #60a5fa33}
    .list{display:flex;flex-direction:column;gap:14px}
    .item{display:flex;flex-direction:column;gap:6px;padding:18px;border-radius:16px;border:1px solid #26324a;background:linear-gradient(180deg, #0b0f19 0, #0f1627 100%); position:relative; overflow:hidden}
    .item::before{content:""; position:absolute; inset:0; background:linear-gradient(120deg, var(--color) 0%, transparent 55%); opacity:0.12; pointer-events:none}
    .top{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .name{font-weight:700;font-size:18px}
    .desc{color:#cbd5e1;font-size:14px}
    .btn{display:inline-flex;align-items:center;gap:8px;margin-left:auto;background:var(--card);border:1px solid #2b3a57;color:#e2e8f0;padding:10px 12px;border-radius:12px;text-decoration:none}
    .btn:hover{background:#1b253b}
    .ext{width:16px;height:16px}
    .muted{color:var(--muted);font-size:13px;margin:8px 0 0}
    footer{margin-top:36px;color:#94a3b8;font-size:13px;text-align:center}
    .pill{display:inline-block;font-size:12px; padding:3px 8px;border-radius:999px;border:1px solid #2b3a57;background:#111827;color:#cbd5e1}
  </style>
</head>
<body>
  <div class="container">
    <h1>Earn Money Online Passively</h1>
    <p class="lead">NOTE: The list below contains referral/affiliate links to casino sites and apps you may use. Gamble responsibly.</p>
    <div class="toolbar">
      <input id="search" class="search" placeholder="Search sites… (e.g., poker, daily, gas)">
      <a class="btn" href="https://github.com/sponsors/DrakeHooks" target="_blank" rel="noopener">Sponsor</a>
      <a class="btn" href="https://ko-fi.com/drakehooks" target="_blank" rel="noopener">Ko‑fi</a>
    </div>
    <div id="list" class="list"></div>
    <footer>© <span id="year"></span> Drake Hooks • <span class="pill">casino-claim referrals</span></footer>
  </div>

  <template id="row">
    <div class="item">
      <div class="top">
        <div class="name"></div>
        <a class="btn" target="_blank" rel="noopener">
          <svg class="ext" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M14 3h7v7h-2V6.41l-9.29 9.3-1.42-1.42 9.3-9.29H14V3ZM5 5h6v2H7v10h10v-4h2v6H5V5Z"/></svg>
          <span>Open</span>
        </a>
      </div>
      <div class="desc"></div>
    </div>
  </template>

  <script>
    const listEl = document.getElementById('list');
    const searchEl = document.getElementById('search');
    document.getElementById('year').textContent = new Date().getFullYear();

    const UTM = new URLSearchParams({utm_source:'referral-hub', utm_medium:'link-list', utm_campaign:'casino-claim'}).toString();

    let DATA = [];

    function decorate(url){
      try{
        const u = new URL(url);
        if(!u.searchParams.has('utm_source')){
          u.search += (u.search ? '&' : '') + UTM;
        }
        return u.toString();
      } catch { return url; }
    }

    async function load(){
      try{
        const res = await fetch('links.json', {cache:'no-store'});
        DATA = await res.json();
        render();
      }catch(e){
        listEl.innerHTML = '<div class="muted">Failed to load links.json</div>';
      }
    }

    function render(){
      const q = (searchEl.value || '').toLowerCase();
      const frag = document.createDocumentFragment();
      const row = document.getElementById('row');

      listEl.innerHTML = '';
      DATA
        .filter(x => (x.name + ' ' + (x.desc||'')).toLowerCase().includes(q))
        .forEach(item => {
          const node = row.content.cloneNode(true);
          const el = node.querySelector('.item');
          el.style.setProperty('--color', item.color || '#6366f1');
          node.querySelector('.name').textContent = item.name;
          node.querySelector('.desc').textContent = item.desc || '';
          const a = node.querySelector('a.btn');
          a.href = decorate(item.url);
          a.title = 'Open ' + item.name + ' in new tab';
          frag.appendChild(node);
        });
      listEl.appendChild(frag);
      if (!listEl.children.length){
        listEl.innerHTML = '<div class="muted">No matches.</div>';
      }
    }

    searchEl.addEventListener('input', render);
    load();
  </script>
</body>
</html>
